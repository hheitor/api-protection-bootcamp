{
  "version": 4,
  "terraform_version": "0.13.0",
  "serial": 136,
  "lineage": "44283d95-9dbe-660c-9df3-b859236d8d17",
  "outputs": {
    "Public_VIP_pip": {
      "value": "40.64.70.127",
      "type": "string"
    },
    "ext_subnet_gw": {
      "value": "10.90.2.1",
      "type": "string"
    },
    "f5vm01_ext_private_ip": {
      "value": "10.90.2.4",
      "type": "string"
    },
    "f5vm01_id": {
      "value": "/subscriptions/75f86c46-9cbc-4f6c-85ea-195e3d3c8ac0/resourceGroups/andrewdemo123_rg/providers/Microsoft.Compute/virtualMachines/andrewdemo123-f5vm01",
      "type": "string"
    },
    "f5vm01_mgmt_private_ip": {
      "value": "10.90.1.4",
      "type": "string"
    },
    "f5vm01_mgmt_public_ip": {
      "value": "40.64.70.131",
      "type": "string"
    },
    "mgmt_subnet_gw": {
      "value": "10.90.1.1",
      "type": "string"
    },
    "sg_id": {
      "value": "/subscriptions/75f86c46-9cbc-4f6c-85ea-195e3d3c8ac0/resourceGroups/andrewdemo123_rg/providers/Microsoft.Network/networkSecurityGroups/andrewdemo123-nsg",
      "type": "string"
    },
    "sg_name": {
      "value": "andrewdemo123-nsg",
      "type": "string"
    }
  },
  "resources": [
    {
      "mode": "data",
      "type": "template_file",
      "name": "as3_json",
      "provider": "provider[\"registry.terraform.io/hashicorp/template\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "filename": null,
            "id": "f777f9ceb9843eaf46fa4623add0b61d05937c00eb42b8f783a583601354c534",
            "rendered": "{\n  \"class\": \"AS3\",\n  \"action\": \"deploy\",\n  \"persist\": true,\n  \"declaration\": {\n    \"class\": \"ADC\",\n    \"schemaVersion\": \"3.13.0\",\n    \"id\": \"123abc\",\n    \"label\": \"Sample 1\",\n    \"remark\": \"An HTTPS sample application\",\n    \"controls\": {\n      \"trace\": true\n    },\n    \"Sample_01\": {\n      \"class\": \"Tenant\",\n      \"A1\": {\n        \"class\": \"Application\",\n        \"template\": \"https\",\n        \"serviceMain\": {\n          \"class\": \"Service_HTTPS\",\n          \"virtualAddresses\": [\n            \"10.90.2.12\",\n            \"10.90.2.11\"\n          ],\n          \"pool\": \"web_pool\",\n          \"serverTLS\": \"webtls\"\n        },\n        \"web_pool\": {\n          \"class\": \"Pool\",\n          \"monitors\": [\n            \"tcp\"\n          ],\n          \"members\": [{\n            \"servicePort\": 3000,\n            \"addressDiscovery\": \"azure\",\n            \"updateInterval\": 10,\n            \"tagKey\": \"application\",\n            \"tagValue\": \"app1\",\n            \"addressRealm\": \"private\",\n            \"resourceGroup\": \"andrewdemo123_rg\",\n            \"subscriptionId\": \"75f86c46-9cbc-4f6c-85ea-195e3d3c8ac0\",\n            \"directoryId\": \"e569f29e-b098-4cea-b6f0-48fa8532d64a\",\n            \"applicationId\": \"5d4276e2-8b6c-482b-aef9-b049e9df7c1b\",\n            \"apiAccessKey\": \"DQ//xHC5-xl:XlpvBmYN4PfdaimbOP36\",\n            \"credentialUpdate\": false\n          }]\n        },\n        \"webtls\": {\n          \"class\": \"TLS_Server\",\n          \"certificates\": [{\n            \"certificate\": \"webcert\"\n          }]\n        },\n        \"webcert\": {\n          \"class\": \"Certificate\",\n          \"remark\": \"in practice we recommend using a passphrase\",\n          \"certificate\": \"-----BEGIN CERTIFICATE-----\\nMIICnDCCAgWgAwIBAgIJAJ5n2b0OCEjwMA0GCSqGSIb3DQEBCwUAMGcxCzAJBgNVBAYTAlVTMRMwEQYDVQQIDApXYXNoaW5ndG9uMRAwDgYDVQQHDAdTZWF0dGxlMRQwEgYDVQQKDAtmNV9OZXR3b3JrczEbMBkGA1UEAwwSc2FtcGxlLmV4YW1wbGUubmV0MB4XDTE3MTEyNjE5NTAyNFoXDTE4MDIyNTE5NTAyNFowZzELMAkGA1UEBhMCVVMxEzARBgNVBAgMCldhc2hpbmd0b24xEDAOBgNVBAcMB1NlYXR0bGUxFDASBgNVBAoMC2Y1X05ldHdvcmtzMRswGQYDVQQDDBJzYW1wbGUuZXhhbXBsZS5uZXQwgZ8wDQYJKoZIhvcNAQEBBQADgY0AMIGJAoGBALEsuXmSXVQpYjrZPW+WiTBjn491mwZYT7Q92V1HlSBtM6WdWlK1aZN5sovfKtOX7Yrm8xa+e4o/zJ2QYLyyv5O+t2EGN/4qUEjEAPY9mwJdfzRQy6Hyzm84J0QkTuUJ/EjNuPji3D0QJRALUTzu1UqqDCEtiN9OGyXEkh7uvb7BAgMBAAGjUDBOMB0GA1UdDgQWBBSVHPNrGWrjWyZvckQxFYWO59FRFjAfBgNVHSMEGDAWgBSVHPNrGWrjWyZvckQxFYWO59FRFjAMBgNVHRMEBTADAQH/MA0GCSqGSIb3DQEBCwUAA4GBAJeJ9SEckEwPhkXOm+IuqfbUS/RcziifBCTmVyE+Fa/j9pKSYTgiEBNdbJeBEa+gPMlQtbV7Y2dy8TKx/8axVBHiXC5geDML7caxOrAyHYBpnx690xJTh5OIORBBM/a/NvaR+P3CoVebr/NPRh9oRNxnntnqvqD7SW0U3ZPe3tJc\\n-----END CERTIFICATE-----\",\n          \"privateKey\": \"-----BEGIN RSA PRIVATE KEY-----\\nProc-Type: 4,ENCRYPTED\\nDEK-Info: AES-256-CBC,D8FFCE6B255601587CB54EC29B737D31\\n\\nkv4Fc3Jn0Ujkj0yRjt+gQQfBLSNF2aRLUENXnlr7Xpzqu0Ahr3jS1bAAnd8IWnsR\\nyILqVmKsYF2DoHh0tWiEAQ7/y/fe5DTFhK7N4Wml6kp2yVMkP6KC4ssyYPw27kjK\\nDBwBZ5O8Ioej08A5sgsLCmglbmtSPHJUn14pQnMTmLOpEtOsu6S+2ibPgSNpdg0b\\nCAJNG/KHe+Vkx59qNDyDeKb7FZOlsX30+y67zUq9GQqJEDuysPJ2BUNP0IJXAjst\\nFIt1qNoZew+5KDYs7u/lPxcMGTirUhgI84Jy4WcDvSOsP/tKlxj04TbIE3epmSKy\\n+TihHkwY7ngIGtcm3Sfqk5jz2RXoj1/Ac3SW8kVTYaOUogBhn7zAq4Wju6Et4hQG\\nRGapsJp1aCeZ/a4RCDTxspcKoMaRa97/URQb0hBRGx3DGUhzpmX9zl7JI2Xa5D3R\\nmdBXtjLKYJTdIMdd27prBEKhMUpae2rz5Mw4J907wZeBq/wu+zp8LAnecfTe2nGY\\nE32x1U7gSEdYOGqnwxsOexb1jKgCa67Nw9TmcMPV8zmH7R9qdvgxAbAtwBl1F9OS\\nfcGaC7epf1AjJLtaX7krWmzgASHl28Ynh9lmGMdv+5QYMZvKG0LOg/n3m8uJ6sKy\\nIzzvaJswwn0j5P5+czyoV5CvvdCfKnNb+3jUEN8I0PPwjBGKr4B1ojwhogTM248V\\nHR69D6TxFVMfGpyJhCPkbGEGbpEpcffpgKuC/mEtMqyDQXJNaV5HO6HgAJ9F1P6v\\n5ehHHTMRvzCCFiwndHdlMXUjqSNjww6me6dr6LiAPbejdzhL2vWx1YqebOcwQx3G\\n-----END RSA PRIVATE KEY-----\",\n          \"passphrase\": {\n            \"ciphertext\": \"ZjVmNQ==\",\n            \"protected\": \"eyJhbGciOiJkaXIiLCJlbmMiOiJub25lIn0\"\n          }\n        }\n      }\n    }\n  }\n}\n",
            "template": "{\n  \"class\": \"AS3\",\n  \"action\": \"deploy\",\n  \"persist\": true,\n  \"declaration\": {\n    \"class\": \"ADC\",\n    \"schemaVersion\": \"3.13.0\",\n    \"id\": \"123abc\",\n    \"label\": \"Sample 1\",\n    \"remark\": \"An HTTPS sample application\",\n    \"controls\": {\n      \"trace\": true\n    },\n    \"Sample_01\": {\n      \"class\": \"Tenant\",\n      \"A1\": {\n        \"class\": \"Application\",\n        \"template\": \"https\",\n        \"serviceMain\": {\n          \"class\": \"Service_HTTPS\",\n          \"virtualAddresses\": [\n            \"${publicvip}\",\n            \"${privatevip}\"\n          ],\n          \"pool\": \"web_pool\",\n          \"serverTLS\": \"webtls\"\n        },\n        \"web_pool\": {\n          \"class\": \"Pool\",\n          \"monitors\": [\n            \"tcp\"\n          ],\n          \"members\": [{\n            \"servicePort\": 3000,\n            \"addressDiscovery\": \"azure\",\n            \"updateInterval\": 10,\n            \"tagKey\": \"application\",\n            \"tagValue\": \"app1\",\n            \"addressRealm\": \"private\",\n            \"resourceGroup\": \"${rg_name}\",\n            \"subscriptionId\": \"${subscription_id}\",\n            \"directoryId\": \"${tenant_id}\",\n            \"applicationId\": \"${client_id}\",\n            \"apiAccessKey\": \"${client_secret}\",\n            \"credentialUpdate\": false\n          }]\n        },\n        \"webtls\": {\n          \"class\": \"TLS_Server\",\n          \"certificates\": [{\n            \"certificate\": \"webcert\"\n          }]\n        },\n        \"webcert\": {\n          \"class\": \"Certificate\",\n          \"remark\": \"in practice we recommend using a passphrase\",\n          \"certificate\": \"-----BEGIN CERTIFICATE-----\\nMIICnDCCAgWgAwIBAgIJAJ5n2b0OCEjwMA0GCSqGSIb3DQEBCwUAMGcxCzAJBgNVBAYTAlVTMRMwEQYDVQQIDApXYXNoaW5ndG9uMRAwDgYDVQQHDAdTZWF0dGxlMRQwEgYDVQQKDAtmNV9OZXR3b3JrczEbMBkGA1UEAwwSc2FtcGxlLmV4YW1wbGUubmV0MB4XDTE3MTEyNjE5NTAyNFoXDTE4MDIyNTE5NTAyNFowZzELMAkGA1UEBhMCVVMxEzARBgNVBAgMCldhc2hpbmd0b24xEDAOBgNVBAcMB1NlYXR0bGUxFDASBgNVBAoMC2Y1X05ldHdvcmtzMRswGQYDVQQDDBJzYW1wbGUuZXhhbXBsZS5uZXQwgZ8wDQYJKoZIhvcNAQEBBQADgY0AMIGJAoGBALEsuXmSXVQpYjrZPW+WiTBjn491mwZYT7Q92V1HlSBtM6WdWlK1aZN5sovfKtOX7Yrm8xa+e4o/zJ2QYLyyv5O+t2EGN/4qUEjEAPY9mwJdfzRQy6Hyzm84J0QkTuUJ/EjNuPji3D0QJRALUTzu1UqqDCEtiN9OGyXEkh7uvb7BAgMBAAGjUDBOMB0GA1UdDgQWBBSVHPNrGWrjWyZvckQxFYWO59FRFjAfBgNVHSMEGDAWgBSVHPNrGWrjWyZvckQxFYWO59FRFjAMBgNVHRMEBTADAQH/MA0GCSqGSIb3DQEBCwUAA4GBAJeJ9SEckEwPhkXOm+IuqfbUS/RcziifBCTmVyE+Fa/j9pKSYTgiEBNdbJeBEa+gPMlQtbV7Y2dy8TKx/8axVBHiXC5geDML7caxOrAyHYBpnx690xJTh5OIORBBM/a/NvaR+P3CoVebr/NPRh9oRNxnntnqvqD7SW0U3ZPe3tJc\\n-----END CERTIFICATE-----\",\n          \"privateKey\": \"-----BEGIN RSA PRIVATE KEY-----\\nProc-Type: 4,ENCRYPTED\\nDEK-Info: AES-256-CBC,D8FFCE6B255601587CB54EC29B737D31\\n\\nkv4Fc3Jn0Ujkj0yRjt+gQQfBLSNF2aRLUENXnlr7Xpzqu0Ahr3jS1bAAnd8IWnsR\\nyILqVmKsYF2DoHh0tWiEAQ7/y/fe5DTFhK7N4Wml6kp2yVMkP6KC4ssyYPw27kjK\\nDBwBZ5O8Ioej08A5sgsLCmglbmtSPHJUn14pQnMTmLOpEtOsu6S+2ibPgSNpdg0b\\nCAJNG/KHe+Vkx59qNDyDeKb7FZOlsX30+y67zUq9GQqJEDuysPJ2BUNP0IJXAjst\\nFIt1qNoZew+5KDYs7u/lPxcMGTirUhgI84Jy4WcDvSOsP/tKlxj04TbIE3epmSKy\\n+TihHkwY7ngIGtcm3Sfqk5jz2RXoj1/Ac3SW8kVTYaOUogBhn7zAq4Wju6Et4hQG\\nRGapsJp1aCeZ/a4RCDTxspcKoMaRa97/URQb0hBRGx3DGUhzpmX9zl7JI2Xa5D3R\\nmdBXtjLKYJTdIMdd27prBEKhMUpae2rz5Mw4J907wZeBq/wu+zp8LAnecfTe2nGY\\nE32x1U7gSEdYOGqnwxsOexb1jKgCa67Nw9TmcMPV8zmH7R9qdvgxAbAtwBl1F9OS\\nfcGaC7epf1AjJLtaX7krWmzgASHl28Ynh9lmGMdv+5QYMZvKG0LOg/n3m8uJ6sKy\\nIzzvaJswwn0j5P5+czyoV5CvvdCfKnNb+3jUEN8I0PPwjBGKr4B1ojwhogTM248V\\nHR69D6TxFVMfGpyJhCPkbGEGbpEpcffpgKuC/mEtMqyDQXJNaV5HO6HgAJ9F1P6v\\n5ehHHTMRvzCCFiwndHdlMXUjqSNjww6me6dr6LiAPbejdzhL2vWx1YqebOcwQx3G\\n-----END RSA PRIVATE KEY-----\",\n          \"passphrase\": {\n            \"ciphertext\": \"ZjVmNQ==\",\n            \"protected\": \"eyJhbGciOiJkaXIiLCJlbmMiOiJub25lIn0\"\n          }\n        }\n      }\n    }\n  }\n}\n",
            "vars": {
              "backendvm_ip": "10.90.2.101",
              "client_id": "5d4276e2-8b6c-482b-aef9-b049e9df7c1b",
              "client_secret": "DQ//xHC5-xl:XlpvBmYN4PfdaimbOP36",
              "privatevip": "10.90.2.11",
              "publicvip": "10.90.2.12",
              "rg_name": "andrewdemo123_rg",
              "subscription_id": "75f86c46-9cbc-4f6c-85ea-195e3d3c8ac0",
              "tenant_id": "e569f29e-b098-4cea-b6f0-48fa8532d64a"
            }
          }
        }
      ]
    },
    {
      "mode": "data",
      "type": "template_file",
      "name": "ts_json",
      "provider": "provider[\"registry.terraform.io/hashicorp/template\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "filename": null,
            "id": "d3bc6762e770d31f7c7c17ccc0ecd121f02c34c6113431b339f6e80ab157fefb",
            "rendered": "{\n  \"class\": \"Telemetry\",\n  \"My_System\": {\n      \"class\": \"Telemetry_System\",\n      \"systemPoller\": {\n          \"interval\": 60\n      }\n  },\n  \"My_Listener\": {\n      \"class\": \"Telemetry_Listener\",\n      \"port\": 6514\n  },\n  \"My_Consumer\": {\n    \"class\": \"Telemetry_Consumer\",\n    \"type\": \"Azure_Log_Analytics\",\n    \"workspaceId\": \"b16dcd19-ff88-4916-8f29-3ce74e7d243b\",\n    \"passphrase\": {\n        \"cipherText\": \"7dgXKwfkncY0tZ5fvjanjmwaSSxvtztjFUtmgslWYIRf747LMv/ekDjbPhdYIrDYEm6RkuI004p9+sCRkOfwOQ==\"\n    },\n    \"useManagedIdentity\": false,\n    \"region\": \"westus2\"\n  }\n}\n",
            "template": "{\n  \"class\": \"Telemetry\",\n  \"My_System\": {\n      \"class\": \"Telemetry_System\",\n      \"systemPoller\": {\n          \"interval\": 60\n      }\n  },\n  \"My_Listener\": {\n      \"class\": \"Telemetry_Listener\",\n      \"port\": 6514\n  },\n  \"My_Consumer\": {\n    \"class\": \"Telemetry_Consumer\",\n    \"type\": \"Azure_Log_Analytics\",\n    \"workspaceId\": \"${law_id}\",\n    \"passphrase\": {\n        \"cipherText\": \"${law_primkey}\"\n    },\n    \"useManagedIdentity\": false,\n    \"region\": \"${region}\"\n  }\n}\n",
            "vars": {
              "law_id": "b16dcd19-ff88-4916-8f29-3ce74e7d243b",
              "law_primkey": "7dgXKwfkncY0tZ5fvjanjmwaSSxvtztjFUtmgslWYIRf747LMv/ekDjbPhdYIrDYEm6RkuI004p9+sCRkOfwOQ==",
              "region": "westus2"
            }
          }
        }
      ]
    },
    {
      "mode": "data",
      "type": "template_file",
      "name": "vm01_do_json",
      "provider": "provider[\"registry.terraform.io/hashicorp/template\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "filename": null,
            "id": "4f5f21591bae498770cabbf42b7443f20e60a58ee1fd9c91296479103f9752bf",
            "rendered": "{\n    \"schemaVersion\": \"1.0.0\",\n    \"class\": \"Device\",\n    \"async\": true,\n    \"label\": \"Onboard BIG-IP standalone 2nic\",\n    \"Common\": {\n        \"class\": \"Tenant\",\n        \"hostname\": \"f5vm01.example.com\",\n        \"dbVars\": {\n            \"class\": \"DbVariables\",\n            \"ui.advisory.enabled\": true,\n            \"ui.advisory.color\": \"green\",\n            \"ui.advisory.text\": \"/Common/hostname\",\n            \"config.allow.rfc3927\": \"enable\"\n        },\n        \"myLicense\": {\n            \"class\": \"License\",\n            \"licenseType\": \"regKey\",\n            \"regKey\": \"AVNSZ-UNXJX-APNHH-ZDYHX-ZPMDEVQ\"\n        },\n        \"myDns\": {\n            \"class\": \"DNS\",\n            \"nameServers\": [\n                \"8.8.8.8\",\n                \"2001:4860:4860::8844\"\n            ],\n            \"search\": [\n                \"f5.com\"\n            ]\n        },\n        \"myNtp\": {\n            \"class\": \"NTP\",\n            \"servers\": [\n                \"0.us.pool.ntp.org\",\n                \"1.pool.ntp.org\",\n                \"2.pool.ntp.org\"\n            ],\n            \"timezone\": \"UTC\"\n        },\n        \"myProvisioning\": {\n            \"class\": \"Provision\",\n            \"ltm\": \"nominal\",\n            \"asm\": \"nominal\",\n            \"apm\": \"nominal\"\n        },\n        \"external\": {\n            \"class\": \"VLAN\",\n            \"tag\": 4094,\n            \"mtu\": 1500,\n            \"interfaces\": [\n                {\n                    \"name\": \"1.1\",\n                    \"tagged\": false\n                }\n            ]\n        },\n        \"external-localself\": {\n            \"class\": \"SelfIp\",\n            \"address\": \"10.90.2.4/24\",\n            \"vlan\": \"external\",\n            \"allowService\": \"default\",\n            \"trafficGroup\": \"traffic-group-local-only\"\n        },\n        \"default\": {\n            \"class\": \"Route\",\n            \"gw\": \"10.90.2.1\",\n            \"network\": \"default\",\n            \"mtu\": 1500\n        }\n    }\n}\n",
            "template": "{\n    \"schemaVersion\": \"1.0.0\",\n    \"class\": \"Device\",\n    \"async\": true,\n    \"label\": \"Onboard BIG-IP standalone 2nic\",\n    \"Common\": {\n        \"class\": \"Tenant\",\n        \"hostname\": \"${local_host}.example.com\",\n        \"dbVars\": {\n            \"class\": \"DbVariables\",\n            \"ui.advisory.enabled\": true,\n            \"ui.advisory.color\": \"green\",\n            \"ui.advisory.text\": \"/Common/hostname\",\n            \"config.allow.rfc3927\": \"enable\"\n        },\n        \"myLicense\": {\n            \"class\": \"License\",\n            \"licenseType\": \"regKey\",\n            \"regKey\": \"AVNSZ-UNXJX-APNHH-ZDYHX-ZPMDEVQ\"\n        },\n        \"myDns\": {\n            \"class\": \"DNS\",\n            \"nameServers\": [\n                \"${dns_server}\",\n                \"2001:4860:4860::8844\"\n            ],\n            \"search\": [\n                \"f5.com\"\n            ]\n        },\n        \"myNtp\": {\n            \"class\": \"NTP\",\n            \"servers\": [\n                \"${ntp_server}\",\n                \"1.pool.ntp.org\",\n                \"2.pool.ntp.org\"\n            ],\n            \"timezone\": \"${timezone}\"\n        },\n        \"myProvisioning\": {\n            \"class\": \"Provision\",\n            \"ltm\": \"nominal\",\n            \"asm\": \"nominal\",\n            \"apm\": \"nominal\"\n        },\n        \"external\": {\n            \"class\": \"VLAN\",\n            \"tag\": 4094,\n            \"mtu\": 1500,\n            \"interfaces\": [\n                {\n                    \"name\": \"1.1\",\n                    \"tagged\": false\n                }\n            ]\n        },\n        \"external-localself\": {\n            \"class\": \"SelfIp\",\n            \"address\": \"${local_selfip}/24\",\n            \"vlan\": \"external\",\n            \"allowService\": \"default\",\n            \"trafficGroup\": \"traffic-group-local-only\"\n        },\n        \"default\": {\n            \"class\": \"Route\",\n            \"gw\": \"${gateway}\",\n            \"network\": \"default\",\n            \"mtu\": 1500\n        }\n    }\n}\n",
            "vars": {
              "admin_password": "f5DEMOs4u#",
              "admin_user": "azureuser",
              "dns_server": "8.8.8.8",
              "gateway": "10.90.2.1",
              "host1": "f5vm01",
              "local_host": "f5vm01",
              "local_selfip": "10.90.2.4",
              "ntp_server": "0.us.pool.ntp.org",
              "regKey": "AVNSZ-UNXJX-APNHH-ZDYHX-ZPMDEVQ",
              "timezone": "UTC"
            }
          }
        }
      ]
    },
    {
      "mode": "data",
      "type": "template_file",
      "name": "vm_onboard",
      "provider": "provider[\"registry.terraform.io/hashicorp/template\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "filename": null,
            "id": "3f36c47e059d481205b8b46d045fe044bb8a79887ea260b280758ee56a8e7748",
            "rendered": "#!/bin/bash\n\n# BIG-IPS ONBOARD SCRIPT\n\nLOG_FILE=/var/log/startup-script.log\n\nif [ ! -e $LOG_FILE ]\nthen\n     touch $LOG_FILE\n     exec \u0026\u003e\u003e$LOG_FILE\nelse\n    #if file exists, exit as only want to run once\n    exit\nfi\n\nexec 1\u003e$LOG_FILE 2\u003e\u00261\n\n# CHECK TO SEE NETWORK IS READY\nCNT=0\nwhile true\ndo\n  STATUS=$(curl -s -k -I example.com | grep HTTP)\n  if [[ $STATUS == *\"200\"* ]]; then\n    echo \"Got 200! VE is Ready!\"\n    break\n  elif [ $CNT -le 6 ]; then\n    echo \"Status code: $STATUS  Not done yet...\"\n    CNT=$[$CNT+1]\n  else\n    echo \"GIVE UP...\"\n    break\n  fi\n  sleep 10\ndone\n\nsleep 60\n\n\n###############################################\n#### Download F5 Automation Toolchain RPMs ####\n###############################################\n\n# Variables\nadmin_username='azureuser'\nadmin_password='f5DEMOs4u#'\nCREDS=\"admin:\"$admin_password\nDO_URL='https://github.com/F5Networks/f5-declarative-onboarding/releases/download/v1.13.0/f5-declarative-onboarding-1.13.0-5.noarch.rpm'\nDO_FN=$(basename \"$DO_URL\")\nAS3_URL='https://github.com/F5Networks/f5-appsvcs-extension/releases/download/v3.20.0/f5-appsvcs-3.20.0-3.noarch.rpm'\nAS3_FN=$(basename \"$AS3_URL\")\nTS_URL='https://github.com/F5Networks/f5-telemetry-streaming/releases/download/v1.12.0/f5-telemetry-1.12.0-3.noarch.rpm'\nTS_FN=$(basename \"$TS_URL\")\n\nmkdir -p /config/cloud/azure/node_modules\n\necho -e \"\\n\"$(date) \"Download Telemetry (TS) Pkg\"\ncurl -L -k -o /config/cloud/azure/node_modules/$TS_FN $TS_URL\n\necho -e \"\\n\"$(date) \"Download Declarative Onboarding (DO) Pkg\"\ncurl -L -k -o /config/cloud/azure/node_modules/$DO_FN $DO_URL\n\necho -e \"\\n\"$(date) \"Download Application Services 3 (AS3) Pkg\"\ncurl -L -k -o /config/cloud/azure/node_modules/$AS3_FN $AS3_URL\n\nsleep 10\n\n# Copy the RPM Pkg to the file location\ncp /config/cloud/azure/node_modules/*.rpm /var/config/rest/downloads/\n\n# Install Telemetry Streaming Pkg\nDATA=\"{\\\"operation\\\":\\\"INSTALL\\\",\\\"packageFilePath\\\":\\\"/var/config/rest/downloads/$TS_FN\\\"}\"\necho -e \"\\n\"$(date) \"Install TS Pkg\"\ncurl -u $CREDS -X POST http://localhost:8100/mgmt/shared/iapp/package-management-tasks -d $DATA\n\nsleep 10\n\n# Install Declarative Onboarding Pkg\nDATA=\"{\\\"operation\\\":\\\"INSTALL\\\",\\\"packageFilePath\\\":\\\"/var/config/rest/downloads/$DO_FN\\\"}\"\necho -e \"\\n\"$(date) \"Install DO Pkg\"\ncurl -u $CREDS -X POST http://localhost:8100/mgmt/shared/iapp/package-management-tasks -d $DATA\n\nsleep 10\n\n# Install AS3 Pkg\nDATA=\"{\\\"operation\\\":\\\"INSTALL\\\",\\\"packageFilePath\\\":\\\"/var/config/rest/downloads/$AS3_FN\\\"}\"\necho -e \"\\n\"$(date) \"Install AS3 Pkg\"\ncurl -u $CREDS -X POST http://localhost:8100/mgmt/shared/iapp/package-management-tasks -d $DATA\n\nsleep 10\n\n# Check DO Ready\nCNT=0\necho -e \"\\n\"$(date) \"Check DO Ready\"\nwhile true\ndo\n  STATUS=$(curl -u $CREDS -X GET -s -k -I https://localhost/mgmt/shared/declarative-onboarding/info | grep HTTP)\n  if [[ $STATUS == *\"200\"* ]]; then\n    echo -e \"\\n\"$(date) \"Got 200! DO is Ready!\"\n    break\n  elif [ $CNT -le 6 ]; then\n    echo -e \"\\n\"$(date) \"Status code: $STATUS  DO Not done yet...\"\n    CNT=$[$CNT+1]\n  else\n    echo -e \"\\n\"$(date) \"(DO) GIVE UP...\"\n    break\n  fi\n  sleep 10\ndone\n\n# Check AS3 Ready\nCNT=0\necho -e \"\\n\"$(date) \"Check AS3 Ready\"\nwhile true\ndo\n  STATUS=$(curl -u $CREDS -X GET -s -k -I https://localhost/mgmt/shared/appsvcs/info | grep HTTP)\n  if [[ $STATUS == *\"200\"* ]]; then\n    echo -e \"\\n\"$(date) \"Got 200! AS3 is Ready!\"\n    break\n  elif [ $CNT -le 6 ]; then\n    echo -e \"\\n\"$(date) \"Status code: $STATUS  AS3 Not done yet...\"\n    CNT=$[$CNT+1]\n  else\n    echo -e \"\\n\"$(date) \"(AS3) GIVE UP...\"\n    break\n  fi\n  sleep 10\ndone\n\n# Check TS Ready\nCNT=0\necho -e \"\\n\"$(date) \"Check TS Ready\"\nwhile true\ndo\n  STATUS=$(curl -u $CREDS -X GET -s -k -I https://localhost/mgmt/shared/telemetry/info | grep HTTP)\n  if [[ $STATUS == *\"200\"* ]]; then\n    echo -e \"\\n\"$(date) \"Got 200! TS is Ready!\"\n    break\n  elif [ $CNT -le 6 ]; then\n    echo -e \"\\n\"$(date) \"Status code: $STATUS  TS Not done yet...\"\n    CNT=$[$CNT+1]\n  else\n    echo -e \"\\n\"$(date) \"(TS) GIVE UP...\"\n    break\n  fi\n  sleep 10\ndone\n\n# Delete RPM packages\necho -e \"\\n\"$(date) \"Removing temporary RPM install packages\"\nrm -rf /var/config/rest/downloads/*.rpm\n\nsleep 5\n",
            "template": "#!/bin/bash\n\n# BIG-IPS ONBOARD SCRIPT\n\nLOG_FILE=${onboard_log}\n\nif [ ! -e $LOG_FILE ]\nthen\n     touch $LOG_FILE\n     exec \u0026\u003e\u003e$LOG_FILE\nelse\n    #if file exists, exit as only want to run once\n    exit\nfi\n\nexec 1\u003e$LOG_FILE 2\u003e\u00261\n\n# CHECK TO SEE NETWORK IS READY\nCNT=0\nwhile true\ndo\n  STATUS=$(curl -s -k -I example.com | grep HTTP)\n  if [[ $STATUS == *\"200\"* ]]; then\n    echo \"Got 200! VE is Ready!\"\n    break\n  elif [ $CNT -le 6 ]; then\n    echo \"Status code: $STATUS  Not done yet...\"\n    CNT=$[$CNT+1]\n  else\n    echo \"GIVE UP...\"\n    break\n  fi\n  sleep 10\ndone\n\nsleep 60\n\n\n###############################################\n#### Download F5 Automation Toolchain RPMs ####\n###############################################\n\n# Variables\nadmin_username='${admin_user}'\nadmin_password='${admin_password}'\nCREDS=\"admin:\"$admin_password\nDO_URL='${DO_URL}'\nDO_FN=$(basename \"$DO_URL\")\nAS3_URL='${AS3_URL}'\nAS3_FN=$(basename \"$AS3_URL\")\nTS_URL='${TS_URL}'\nTS_FN=$(basename \"$TS_URL\")\n\nmkdir -p ${libs_dir}\n\necho -e \"\\n\"$(date) \"Download Telemetry (TS) Pkg\"\ncurl -L -k -o ${libs_dir}/$TS_FN $TS_URL\n\necho -e \"\\n\"$(date) \"Download Declarative Onboarding (DO) Pkg\"\ncurl -L -k -o ${libs_dir}/$DO_FN $DO_URL\n\necho -e \"\\n\"$(date) \"Download Application Services 3 (AS3) Pkg\"\ncurl -L -k -o ${libs_dir}/$AS3_FN $AS3_URL\n\nsleep 10\n\n# Copy the RPM Pkg to the file location\ncp ${libs_dir}/*.rpm /var/config/rest/downloads/\n\n# Install Telemetry Streaming Pkg\nDATA=\"{\\\"operation\\\":\\\"INSTALL\\\",\\\"packageFilePath\\\":\\\"/var/config/rest/downloads/$TS_FN\\\"}\"\necho -e \"\\n\"$(date) \"Install TS Pkg\"\ncurl -u $CREDS -X POST http://localhost:8100/mgmt/shared/iapp/package-management-tasks -d $DATA\n\nsleep 10\n\n# Install Declarative Onboarding Pkg\nDATA=\"{\\\"operation\\\":\\\"INSTALL\\\",\\\"packageFilePath\\\":\\\"/var/config/rest/downloads/$DO_FN\\\"}\"\necho -e \"\\n\"$(date) \"Install DO Pkg\"\ncurl -u $CREDS -X POST http://localhost:8100/mgmt/shared/iapp/package-management-tasks -d $DATA\n\nsleep 10\n\n# Install AS3 Pkg\nDATA=\"{\\\"operation\\\":\\\"INSTALL\\\",\\\"packageFilePath\\\":\\\"/var/config/rest/downloads/$AS3_FN\\\"}\"\necho -e \"\\n\"$(date) \"Install AS3 Pkg\"\ncurl -u $CREDS -X POST http://localhost:8100/mgmt/shared/iapp/package-management-tasks -d $DATA\n\nsleep 10\n\n# Check DO Ready\nCNT=0\necho -e \"\\n\"$(date) \"Check DO Ready\"\nwhile true\ndo\n  STATUS=$(curl -u $CREDS -X GET -s -k -I https://localhost/mgmt/shared/declarative-onboarding/info | grep HTTP)\n  if [[ $STATUS == *\"200\"* ]]; then\n    echo -e \"\\n\"$(date) \"Got 200! DO is Ready!\"\n    break\n  elif [ $CNT -le 6 ]; then\n    echo -e \"\\n\"$(date) \"Status code: $STATUS  DO Not done yet...\"\n    CNT=$[$CNT+1]\n  else\n    echo -e \"\\n\"$(date) \"(DO) GIVE UP...\"\n    break\n  fi\n  sleep 10\ndone\n\n# Check AS3 Ready\nCNT=0\necho -e \"\\n\"$(date) \"Check AS3 Ready\"\nwhile true\ndo\n  STATUS=$(curl -u $CREDS -X GET -s -k -I https://localhost/mgmt/shared/appsvcs/info | grep HTTP)\n  if [[ $STATUS == *\"200\"* ]]; then\n    echo -e \"\\n\"$(date) \"Got 200! AS3 is Ready!\"\n    break\n  elif [ $CNT -le 6 ]; then\n    echo -e \"\\n\"$(date) \"Status code: $STATUS  AS3 Not done yet...\"\n    CNT=$[$CNT+1]\n  else\n    echo -e \"\\n\"$(date) \"(AS3) GIVE UP...\"\n    break\n  fi\n  sleep 10\ndone\n\n# Check TS Ready\nCNT=0\necho -e \"\\n\"$(date) \"Check TS Ready\"\nwhile true\ndo\n  STATUS=$(curl -u $CREDS -X GET -s -k -I https://localhost/mgmt/shared/telemetry/info | grep HTTP)\n  if [[ $STATUS == *\"200\"* ]]; then\n    echo -e \"\\n\"$(date) \"Got 200! TS is Ready!\"\n    break\n  elif [ $CNT -le 6 ]; then\n    echo -e \"\\n\"$(date) \"Status code: $STATUS  TS Not done yet...\"\n    CNT=$[$CNT+1]\n  else\n    echo -e \"\\n\"$(date) \"(TS) GIVE UP...\"\n    break\n  fi\n  sleep 10\ndone\n\n# Delete RPM packages\necho -e \"\\n\"$(date) \"Removing temporary RPM install packages\"\nrm -rf /var/config/rest/downloads/*.rpm\n\nsleep 5\n",
            "vars": {
              "AS3_URL": "https://github.com/F5Networks/f5-appsvcs-extension/releases/download/v3.20.0/f5-appsvcs-3.20.0-3.noarch.rpm",
              "DO_URL": "https://github.com/F5Networks/f5-declarative-onboarding/releases/download/v1.13.0/f5-declarative-onboarding-1.13.0-5.noarch.rpm",
              "TS_URL": "https://github.com/F5Networks/f5-telemetry-streaming/releases/download/v1.12.0/f5-telemetry-1.12.0-3.noarch.rpm",
              "admin_password": "f5DEMOs4u#",
              "admin_user": "azureuser",
              "libs_dir": "/config/cloud/azure/node_modules",
              "onboard_log": "/var/log/startup-script.log"
            }
          }
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_linux_virtual_machine",
      "name": "backendvm",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "additional_capabilities": [],
            "admin_password": "f5DEMOs4u#",
            "admin_ssh_key": [],
            "admin_username": "azureuser",
            "allow_extension_operations": true,
            "availability_set_id": "",
            "boot_diagnostics": [],
            "computer_name": "backend01",
            "custom_data": "IyEvYmluL2Jhc2gKYXB0LWdldCB1cGRhdGUgLXkKYXB0LWdldCBpbnN0YWxsIC15IGRvY2tlci5pbyBkb2NrZXItY29tcG9zZQojZG9ja2VyIHJ1biAtZCAtcCA4MDo4MCAtLW5ldD1ob3N0IC0tcmVzdGFydCB1bmxlc3Mtc3RvcHBlZCB2dWxuZXJhYmxlcy93ZWItZHZ3YQpnaXQgY2xvbmUgaHR0cHM6Ly9naXRodWIuY29tL2VoYy1pby9ib29rc2NhdGFsb2cuZ2l0CmNkIGJvb2tzY2F0YWxvZy8Kc3VkbyBkb2NrZXItY29tcG9zZSB1cCYK",
            "dedicated_host_id": "",
            "disable_password_authentication": false,
            "eviction_policy": "",
            "id": "/subscriptions/75f86c46-9cbc-4f6c-85ea-195e3d3c8ac0/resourceGroups/andrewdemo123_rg/providers/Microsoft.Compute/virtualMachines/backendvm",
            "identity": [],
            "location": "westus2",
            "max_bid_price": -1,
            "name": "backendvm",
            "network_interface_ids": [
              "/subscriptions/75f86c46-9cbc-4f6c-85ea-195e3d3c8ac0/resourceGroups/andrewdemo123_rg/providers/Microsoft.Network/networkInterfaces/andrewdemo123-backend01-ext-nic"
            ],
            "os_disk": [
              {
                "caching": "ReadWrite",
                "diff_disk_settings": [],
                "disk_encryption_set_id": "",
                "disk_size_gb": 30,
                "name": "backendOsDisk",
                "storage_account_type": "Premium_LRS",
                "write_accelerator_enabled": false
              }
            ],
            "plan": [],
            "priority": "Regular",
            "private_ip_address": "10.90.2.101",
            "private_ip_addresses": [
              "10.90.2.101"
            ],
            "provision_vm_agent": true,
            "proximity_placement_group_id": "",
            "public_ip_address": "",
            "public_ip_addresses": [],
            "resource_group_name": "andrewdemo123_rg",
            "secret": [],
            "size": "Standard_B1ms",
            "source_image_id": "",
            "source_image_reference": [
              {
                "offer": "UbuntuServer",
                "publisher": "Canonical",
                "sku": "18.04-LTS",
                "version": "latest"
              }
            ],
            "tags": {
              "Name": "f5env-backend01",
              "costcenter": "f5costcenter",
              "environment": "f5env",
              "group": "f5group",
              "owner": "f5owner"
            },
            "timeouts": null,
            "virtual_machine_id": "0b024b45-39fc-4bdc-b856-cb1ed6c6e3fe",
            "zone": ""
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoyNzAwMDAwMDAwMDAwLCJkZWxldGUiOjI3MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoyNzAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "azurerm_network_interface.backend01-ext-nic",
            "azurerm_resource_group.main",
            "azurerm_subnet.External",
            "azurerm_virtual_network.main"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_linux_virtual_machine",
      "name": "f5vm01",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "additional_capabilities": [],
            "admin_password": "f5DEMOs4u#",
            "admin_ssh_key": [],
            "admin_username": "azureuser",
            "allow_extension_operations": true,
            "availability_set_id": "",
            "boot_diagnostics": [
              {
                "storage_account_uri": "https://andrewdemo123mystorage.blob.core.windows.net/"
              }
            ],
            "computer_name": "andrewdemo123vm01",
            "custom_data": "IyEvYmluL2Jhc2gKCiMgQklHLUlQUyBPTkJPQVJEIFNDUklQVAoKTE9HX0ZJTEU9L3Zhci9sb2cvc3RhcnR1cC1zY3JpcHQubG9nCgppZiBbICEgLWUgJExPR19GSUxFIF0KdGhlbgogICAgIHRvdWNoICRMT0dfRklMRQogICAgIGV4ZWMgJj4+JExPR19GSUxFCmVsc2UKICAgICNpZiBmaWxlIGV4aXN0cywgZXhpdCBhcyBvbmx5IHdhbnQgdG8gcnVuIG9uY2UKICAgIGV4aXQKZmkKCmV4ZWMgMT4kTE9HX0ZJTEUgMj4mMQoKIyBDSEVDSyBUTyBTRUUgTkVUV09SSyBJUyBSRUFEWQpDTlQ9MAp3aGlsZSB0cnVlCmRvCiAgU1RBVFVTPSQoY3VybCAtcyAtayAtSSBleGFtcGxlLmNvbSB8IGdyZXAgSFRUUCkKICBpZiBbWyAkU1RBVFVTID09ICoiMjAwIiogXV07IHRoZW4KICAgIGVjaG8gIkdvdCAyMDAhIFZFIGlzIFJlYWR5ISIKICAgIGJyZWFrCiAgZWxpZiBbICRDTlQgLWxlIDYgXTsgdGhlbgogICAgZWNobyAiU3RhdHVzIGNvZGU6ICRTVEFUVVMgIE5vdCBkb25lIHlldC4uLiIKICAgIENOVD0kWyRDTlQrMV0KICBlbHNlCiAgICBlY2hvICJHSVZFIFVQLi4uIgogICAgYnJlYWsKICBmaQogIHNsZWVwIDEwCmRvbmUKCnNsZWVwIDYwCgoKIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMKIyMjIyBEb3dubG9hZCBGNSBBdXRvbWF0aW9uIFRvb2xjaGFpbiBSUE1zICMjIyMKIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMKCiMgVmFyaWFibGVzCmFkbWluX3VzZXJuYW1lPSdhenVyZXVzZXInCmFkbWluX3Bhc3N3b3JkPSdmNURFTU9zNHUjJwpDUkVEUz0iYWRtaW46IiRhZG1pbl9wYXNzd29yZApET19VUkw9J2h0dHBzOi8vZ2l0aHViLmNvbS9GNU5ldHdvcmtzL2Y1LWRlY2xhcmF0aXZlLW9uYm9hcmRpbmcvcmVsZWFzZXMvZG93bmxvYWQvdjEuMTMuMC9mNS1kZWNsYXJhdGl2ZS1vbmJvYXJkaW5nLTEuMTMuMC01Lm5vYXJjaC5ycG0nCkRPX0ZOPSQoYmFzZW5hbWUgIiRET19VUkwiKQpBUzNfVVJMPSdodHRwczovL2dpdGh1Yi5jb20vRjVOZXR3b3Jrcy9mNS1hcHBzdmNzLWV4dGVuc2lvbi9yZWxlYXNlcy9kb3dubG9hZC92My4yMC4wL2Y1LWFwcHN2Y3MtMy4yMC4wLTMubm9hcmNoLnJwbScKQVMzX0ZOPSQoYmFzZW5hbWUgIiRBUzNfVVJMIikKVFNfVVJMPSdodHRwczovL2dpdGh1Yi5jb20vRjVOZXR3b3Jrcy9mNS10ZWxlbWV0cnktc3RyZWFtaW5nL3JlbGVhc2VzL2Rvd25sb2FkL3YxLjEyLjAvZjUtdGVsZW1ldHJ5LTEuMTIuMC0zLm5vYXJjaC5ycG0nClRTX0ZOPSQoYmFzZW5hbWUgIiRUU19VUkwiKQoKbWtkaXIgLXAgL2NvbmZpZy9jbG91ZC9henVyZS9ub2RlX21vZHVsZXMKCmVjaG8gLWUgIlxuIiQoZGF0ZSkgIkRvd25sb2FkIFRlbGVtZXRyeSAoVFMpIFBrZyIKY3VybCAtTCAtayAtbyAvY29uZmlnL2Nsb3VkL2F6dXJlL25vZGVfbW9kdWxlcy8kVFNfRk4gJFRTX1VSTAoKZWNobyAtZSAiXG4iJChkYXRlKSAiRG93bmxvYWQgRGVjbGFyYXRpdmUgT25ib2FyZGluZyAoRE8pIFBrZyIKY3VybCAtTCAtayAtbyAvY29uZmlnL2Nsb3VkL2F6dXJlL25vZGVfbW9kdWxlcy8kRE9fRk4gJERPX1VSTAoKZWNobyAtZSAiXG4iJChkYXRlKSAiRG93bmxvYWQgQXBwbGljYXRpb24gU2VydmljZXMgMyAoQVMzKSBQa2ciCmN1cmwgLUwgLWsgLW8gL2NvbmZpZy9jbG91ZC9henVyZS9ub2RlX21vZHVsZXMvJEFTM19GTiAkQVMzX1VSTAoKc2xlZXAgMTAKCiMgQ29weSB0aGUgUlBNIFBrZyB0byB0aGUgZmlsZSBsb2NhdGlvbgpjcCAvY29uZmlnL2Nsb3VkL2F6dXJlL25vZGVfbW9kdWxlcy8qLnJwbSAvdmFyL2NvbmZpZy9yZXN0L2Rvd25sb2Fkcy8KCiMgSW5zdGFsbCBUZWxlbWV0cnkgU3RyZWFtaW5nIFBrZwpEQVRBPSJ7XCJvcGVyYXRpb25cIjpcIklOU1RBTExcIixcInBhY2thZ2VGaWxlUGF0aFwiOlwiL3Zhci9jb25maWcvcmVzdC9kb3dubG9hZHMvJFRTX0ZOXCJ9IgplY2hvIC1lICJcbiIkKGRhdGUpICJJbnN0YWxsIFRTIFBrZyIKY3VybCAtdSAkQ1JFRFMgLVggUE9TVCBodHRwOi8vbG9jYWxob3N0OjgxMDAvbWdtdC9zaGFyZWQvaWFwcC9wYWNrYWdlLW1hbmFnZW1lbnQtdGFza3MgLWQgJERBVEEKCnNsZWVwIDEwCgojIEluc3RhbGwgRGVjbGFyYXRpdmUgT25ib2FyZGluZyBQa2cKREFUQT0ie1wib3BlcmF0aW9uXCI6XCJJTlNUQUxMXCIsXCJwYWNrYWdlRmlsZVBhdGhcIjpcIi92YXIvY29uZmlnL3Jlc3QvZG93bmxvYWRzLyRET19GTlwifSIKZWNobyAtZSAiXG4iJChkYXRlKSAiSW5zdGFsbCBETyBQa2ciCmN1cmwgLXUgJENSRURTIC1YIFBPU1QgaHR0cDovL2xvY2FsaG9zdDo4MTAwL21nbXQvc2hhcmVkL2lhcHAvcGFja2FnZS1tYW5hZ2VtZW50LXRhc2tzIC1kICREQVRBCgpzbGVlcCAxMAoKIyBJbnN0YWxsIEFTMyBQa2cKREFUQT0ie1wib3BlcmF0aW9uXCI6XCJJTlNUQUxMXCIsXCJwYWNrYWdlRmlsZVBhdGhcIjpcIi92YXIvY29uZmlnL3Jlc3QvZG93bmxvYWRzLyRBUzNfRk5cIn0iCmVjaG8gLWUgIlxuIiQoZGF0ZSkgIkluc3RhbGwgQVMzIFBrZyIKY3VybCAtdSAkQ1JFRFMgLVggUE9TVCBodHRwOi8vbG9jYWxob3N0OjgxMDAvbWdtdC9zaGFyZWQvaWFwcC9wYWNrYWdlLW1hbmFnZW1lbnQtdGFza3MgLWQgJERBVEEKCnNsZWVwIDEwCgojIENoZWNrIERPIFJlYWR5CkNOVD0wCmVjaG8gLWUgIlxuIiQoZGF0ZSkgIkNoZWNrIERPIFJlYWR5Igp3aGlsZSB0cnVlCmRvCiAgU1RBVFVTPSQoY3VybCAtdSAkQ1JFRFMgLVggR0VUIC1zIC1rIC1JIGh0dHBzOi8vbG9jYWxob3N0L21nbXQvc2hhcmVkL2RlY2xhcmF0aXZlLW9uYm9hcmRpbmcvaW5mbyB8IGdyZXAgSFRUUCkKICBpZiBbWyAkU1RBVFVTID09ICoiMjAwIiogXV07IHRoZW4KICAgIGVjaG8gLWUgIlxuIiQoZGF0ZSkgIkdvdCAyMDAhIERPIGlzIFJlYWR5ISIKICAgIGJyZWFrCiAgZWxpZiBbICRDTlQgLWxlIDYgXTsgdGhlbgogICAgZWNobyAtZSAiXG4iJChkYXRlKSAiU3RhdHVzIGNvZGU6ICRTVEFUVVMgIERPIE5vdCBkb25lIHlldC4uLiIKICAgIENOVD0kWyRDTlQrMV0KICBlbHNlCiAgICBlY2hvIC1lICJcbiIkKGRhdGUpICIoRE8pIEdJVkUgVVAuLi4iCiAgICBicmVhawogIGZpCiAgc2xlZXAgMTAKZG9uZQoKIyBDaGVjayBBUzMgUmVhZHkKQ05UPTAKZWNobyAtZSAiXG4iJChkYXRlKSAiQ2hlY2sgQVMzIFJlYWR5Igp3aGlsZSB0cnVlCmRvCiAgU1RBVFVTPSQoY3VybCAtdSAkQ1JFRFMgLVggR0VUIC1zIC1rIC1JIGh0dHBzOi8vbG9jYWxob3N0L21nbXQvc2hhcmVkL2FwcHN2Y3MvaW5mbyB8IGdyZXAgSFRUUCkKICBpZiBbWyAkU1RBVFVTID09ICoiMjAwIiogXV07IHRoZW4KICAgIGVjaG8gLWUgIlxuIiQoZGF0ZSkgIkdvdCAyMDAhIEFTMyBpcyBSZWFkeSEiCiAgICBicmVhawogIGVsaWYgWyAkQ05UIC1sZSA2IF07IHRoZW4KICAgIGVjaG8gLWUgIlxuIiQoZGF0ZSkgIlN0YXR1cyBjb2RlOiAkU1RBVFVTICBBUzMgTm90IGRvbmUgeWV0Li4uIgogICAgQ05UPSRbJENOVCsxXQogIGVsc2UKICAgIGVjaG8gLWUgIlxuIiQoZGF0ZSkgIihBUzMpIEdJVkUgVVAuLi4iCiAgICBicmVhawogIGZpCiAgc2xlZXAgMTAKZG9uZQoKIyBDaGVjayBUUyBSZWFkeQpDTlQ9MAplY2hvIC1lICJcbiIkKGRhdGUpICJDaGVjayBUUyBSZWFkeSIKd2hpbGUgdHJ1ZQpkbwogIFNUQVRVUz0kKGN1cmwgLXUgJENSRURTIC1YIEdFVCAtcyAtayAtSSBodHRwczovL2xvY2FsaG9zdC9tZ210L3NoYXJlZC90ZWxlbWV0cnkvaW5mbyB8IGdyZXAgSFRUUCkKICBpZiBbWyAkU1RBVFVTID09ICoiMjAwIiogXV07IHRoZW4KICAgIGVjaG8gLWUgIlxuIiQoZGF0ZSkgIkdvdCAyMDAhIFRTIGlzIFJlYWR5ISIKICAgIGJyZWFrCiAgZWxpZiBbICRDTlQgLWxlIDYgXTsgdGhlbgogICAgZWNobyAtZSAiXG4iJChkYXRlKSAiU3RhdHVzIGNvZGU6ICRTVEFUVVMgIFRTIE5vdCBkb25lIHlldC4uLiIKICAgIENOVD0kWyRDTlQrMV0KICBlbHNlCiAgICBlY2hvIC1lICJcbiIkKGRhdGUpICIoVFMpIEdJVkUgVVAuLi4iCiAgICBicmVhawogIGZpCiAgc2xlZXAgMTAKZG9uZQoKIyBEZWxldGUgUlBNIHBhY2thZ2VzCmVjaG8gLWUgIlxuIiQoZGF0ZSkgIlJlbW92aW5nIHRlbXBvcmFyeSBSUE0gaW5zdGFsbCBwYWNrYWdlcyIKcm0gLXJmIC92YXIvY29uZmlnL3Jlc3QvZG93bmxvYWRzLyoucnBtCgpzbGVlcCA1Cg==",
            "dedicated_host_id": "",
            "disable_password_authentication": false,
            "eviction_policy": "",
            "id": "/subscriptions/75f86c46-9cbc-4f6c-85ea-195e3d3c8ac0/resourceGroups/andrewdemo123_rg/providers/Microsoft.Compute/virtualMachines/andrewdemo123-f5vm01",
            "identity": [],
            "location": "westus2",
            "max_bid_price": -1,
            "name": "andrewdemo123-f5vm01",
            "network_interface_ids": [
              "/subscriptions/75f86c46-9cbc-4f6c-85ea-195e3d3c8ac0/resourceGroups/andrewdemo123_rg/providers/Microsoft.Network/networkInterfaces/andrewdemo123-mgmt0",
              "/subscriptions/75f86c46-9cbc-4f6c-85ea-195e3d3c8ac0/resourceGroups/andrewdemo123_rg/providers/Microsoft.Network/networkInterfaces/andrewdemo123-ext0"
            ],
            "os_disk": [
              {
                "caching": "ReadWrite",
                "diff_disk_settings": [],
                "disk_encryption_set_id": "",
                "disk_size_gb": 78,
                "name": "andrewdemo123vm01-osdisk",
                "storage_account_type": "Standard_LRS",
                "write_accelerator_enabled": false
              }
            ],
            "plan": [
              {
                "name": "f5-big-all-2slot-byol",
                "product": "f5-big-ip-byol",
                "publisher": "f5-networks"
              }
            ],
            "priority": "Regular",
            "private_ip_address": "10.90.1.4",
            "private_ip_addresses": [
              "10.90.1.4",
              "10.90.2.4",
              "10.90.2.11",
              "10.90.2.12"
            ],
            "provision_vm_agent": true,
            "proximity_placement_group_id": "",
            "public_ip_address": "40.64.70.131",
            "public_ip_addresses": [
              "40.64.70.131",
              "40.64.68.249",
              "40.64.70.127"
            ],
            "resource_group_name": "andrewdemo123_rg",
            "secret": [],
            "size": "Standard_DS4_v2",
            "source_image_id": "",
            "source_image_reference": [
              {
                "offer": "f5-big-ip-byol",
                "publisher": "f5-networks",
                "sku": "f5-big-all-2slot-byol",
                "version": "15.1.004000"
              }
            ],
            "tags": {
              "Name": "f5env-f5vm01",
              "application": "f5app",
              "costcenter": "f5costcenter",
              "environment": "f5env",
              "group": "f5group",
              "owner": "f5owner"
            },
            "timeouts": null,
            "virtual_machine_id": "04931d10-50b5-4eec-8d51-c7d587a152c7",
            "zone": ""
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoyNzAwMDAwMDAwMDAwLCJkZWxldGUiOjI3MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoyNzAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "azurerm_network_interface.vm01-ext-nic",
            "azurerm_network_interface.vm01-mgmt-nic",
            "azurerm_public_ip.pubvippip",
            "azurerm_public_ip.vm01mgmtpip",
            "azurerm_public_ip.vm01selfpip",
            "azurerm_resource_group.main",
            "azurerm_storage_account.mystorage",
            "azurerm_subnet.External",
            "azurerm_subnet.Mgmt",
            "azurerm_virtual_network.main",
            "data.template_file.vm_onboard"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_log_analytics_workspace",
      "name": "law",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "/subscriptions/75f86c46-9cbc-4f6c-85ea-195e3d3c8ac0/resourcegroups/andrewdemo123_rg/providers/microsoft.operationalinsights/workspaces/andrewdemo123-law",
            "location": "westus2",
            "name": "andrewdemo123-law",
            "portal_url": "",
            "primary_shared_key": "7dgXKwfkncY0tZ5fvjanjmwaSSxvtztjFUtmgslWYIRf747LMv/ekDjbPhdYIrDYEm6RkuI004p9+sCRkOfwOQ==",
            "resource_group_name": "andrewdemo123_rg",
            "retention_in_days": 300,
            "secondary_shared_key": "hVRk0J4t5NjsJuA65B4ioMoLjlAftipmeT+BHPaWIffswSzQmS/ZpuEircp6S5ecMFT/b5ASwKrpRpPMzIq4TQ==",
            "sku": "pernode",
            "tags": null,
            "timeouts": null,
            "workspace_id": "b16dcd19-ff88-4916-8f29-3ce74e7d243b"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "azurerm_resource_group.main"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_network_interface",
      "name": "backend01-ext-nic",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "applied_dns_servers": [],
            "dns_servers": [],
            "enable_accelerated_networking": false,
            "enable_ip_forwarding": false,
            "id": "/subscriptions/75f86c46-9cbc-4f6c-85ea-195e3d3c8ac0/resourceGroups/andrewdemo123_rg/providers/Microsoft.Network/networkInterfaces/andrewdemo123-backend01-ext-nic",
            "internal_dns_name_label": "",
            "ip_configuration": [
              {
                "name": "primary",
                "primary": true,
                "private_ip_address": "10.90.2.101",
                "private_ip_address_allocation": "Static",
                "private_ip_address_version": "IPv4",
                "public_ip_address_id": "",
                "subnet_id": "/subscriptions/75f86c46-9cbc-4f6c-85ea-195e3d3c8ac0/resourceGroups/andrewdemo123_rg/providers/Microsoft.Network/virtualNetworks/andrewdemo123-network/subnets/External"
              }
            ],
            "location": "westus2",
            "mac_address": "",
            "name": "andrewdemo123-backend01-ext-nic",
            "private_ip_address": "10.90.2.101",
            "private_ip_addresses": [
              "10.90.2.101"
            ],
            "resource_group_name": "andrewdemo123_rg",
            "tags": {
              "Name": "f5env-backend01-ext-int",
              "application": "app1",
              "costcenter": "f5costcenter",
              "environment": "f5env",
              "group": "f5group",
              "owner": "f5owner"
            },
            "timeouts": null,
            "virtual_machine_id": ""
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "azurerm_resource_group.main",
            "azurerm_subnet.External",
            "azurerm_virtual_network.main"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_network_interface",
      "name": "vm01-ext-nic",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "applied_dns_servers": [],
            "dns_servers": [],
            "enable_accelerated_networking": false,
            "enable_ip_forwarding": true,
            "id": "/subscriptions/75f86c46-9cbc-4f6c-85ea-195e3d3c8ac0/resourceGroups/andrewdemo123_rg/providers/Microsoft.Network/networkInterfaces/andrewdemo123-ext0",
            "internal_dns_name_label": "",
            "ip_configuration": [
              {
                "name": "primary",
                "primary": true,
                "private_ip_address": "10.90.2.4",
                "private_ip_address_allocation": "Static",
                "private_ip_address_version": "IPv4",
                "public_ip_address_id": "/subscriptions/75f86c46-9cbc-4f6c-85ea-195e3d3c8ac0/resourceGroups/andrewdemo123_rg/providers/Microsoft.Network/publicIPAddresses/andrewdemo123-vm01-self-pip",
                "subnet_id": "/subscriptions/75f86c46-9cbc-4f6c-85ea-195e3d3c8ac0/resourceGroups/andrewdemo123_rg/providers/Microsoft.Network/virtualNetworks/andrewdemo123-network/subnets/External"
              },
              {
                "name": "secondary1",
                "primary": false,
                "private_ip_address": "10.90.2.11",
                "private_ip_address_allocation": "Static",
                "private_ip_address_version": "IPv4",
                "public_ip_address_id": "",
                "subnet_id": "/subscriptions/75f86c46-9cbc-4f6c-85ea-195e3d3c8ac0/resourceGroups/andrewdemo123_rg/providers/Microsoft.Network/virtualNetworks/andrewdemo123-network/subnets/External"
              },
              {
                "name": "secondary2",
                "primary": false,
                "private_ip_address": "10.90.2.12",
                "private_ip_address_allocation": "Static",
                "private_ip_address_version": "IPv4",
                "public_ip_address_id": "/subscriptions/75f86c46-9cbc-4f6c-85ea-195e3d3c8ac0/resourceGroups/andrewdemo123_rg/providers/Microsoft.Network/publicIPAddresses/andrewdemo123-pubvip-pip",
                "subnet_id": "/subscriptions/75f86c46-9cbc-4f6c-85ea-195e3d3c8ac0/resourceGroups/andrewdemo123_rg/providers/Microsoft.Network/virtualNetworks/andrewdemo123-network/subnets/External"
              }
            ],
            "location": "westus2",
            "mac_address": "",
            "name": "andrewdemo123-ext0",
            "private_ip_address": "10.90.2.4",
            "private_ip_addresses": [
              "10.90.2.4",
              "10.90.2.11",
              "10.90.2.12"
            ],
            "resource_group_name": "andrewdemo123_rg",
            "tags": {
              "Name": "f5env-vm01-ext-int",
              "application": "f5app",
              "costcenter": "f5costcenter",
              "environment": "f5env",
              "group": "f5group",
              "owner": "f5owner"
            },
            "timeouts": null,
            "virtual_machine_id": ""
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "azurerm_public_ip.pubvippip",
            "azurerm_public_ip.vm01selfpip",
            "azurerm_resource_group.main",
            "azurerm_subnet.External",
            "azurerm_virtual_network.main"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_network_interface",
      "name": "vm01-mgmt-nic",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "applied_dns_servers": [],
            "dns_servers": [],
            "enable_accelerated_networking": false,
            "enable_ip_forwarding": false,
            "id": "/subscriptions/75f86c46-9cbc-4f6c-85ea-195e3d3c8ac0/resourceGroups/andrewdemo123_rg/providers/Microsoft.Network/networkInterfaces/andrewdemo123-mgmt0",
            "internal_dns_name_label": "",
            "ip_configuration": [
              {
                "name": "primary",
                "primary": true,
                "private_ip_address": "10.90.1.4",
                "private_ip_address_allocation": "Static",
                "private_ip_address_version": "IPv4",
                "public_ip_address_id": "/subscriptions/75f86c46-9cbc-4f6c-85ea-195e3d3c8ac0/resourceGroups/andrewdemo123_rg/providers/Microsoft.Network/publicIPAddresses/andrewdemo123-vm01-mgmt-pip",
                "subnet_id": "/subscriptions/75f86c46-9cbc-4f6c-85ea-195e3d3c8ac0/resourceGroups/andrewdemo123_rg/providers/Microsoft.Network/virtualNetworks/andrewdemo123-network/subnets/Mgmt"
              }
            ],
            "location": "westus2",
            "mac_address": "",
            "name": "andrewdemo123-mgmt0",
            "private_ip_address": "10.90.1.4",
            "private_ip_addresses": [
              "10.90.1.4"
            ],
            "resource_group_name": "andrewdemo123_rg",
            "tags": {
              "Name": "f5env-vm01-mgmt-int",
              "application": "f5app",
              "costcenter": "f5costcenter",
              "environment": "f5env",
              "group": "f5group",
              "owner": "f5owner"
            },
            "timeouts": null,
            "virtual_machine_id": ""
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "azurerm_public_ip.vm01mgmtpip",
            "azurerm_resource_group.main",
            "azurerm_subnet.Mgmt",
            "azurerm_virtual_network.main"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_network_interface_security_group_association",
      "name": "backend01-ext-nsg",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "/subscriptions/75f86c46-9cbc-4f6c-85ea-195e3d3c8ac0/resourceGroups/andrewdemo123_rg/providers/Microsoft.Network/networkInterfaces/andrewdemo123-backend01-ext-nic|/subscriptions/75f86c46-9cbc-4f6c-85ea-195e3d3c8ac0/resourceGroups/andrewdemo123_rg/providers/Microsoft.Network/networkSecurityGroups/andrewdemo123-nsg",
            "network_interface_id": "/subscriptions/75f86c46-9cbc-4f6c-85ea-195e3d3c8ac0/resourceGroups/andrewdemo123_rg/providers/Microsoft.Network/networkInterfaces/andrewdemo123-backend01-ext-nic",
            "network_security_group_id": "/subscriptions/75f86c46-9cbc-4f6c-85ea-195e3d3c8ac0/resourceGroups/andrewdemo123_rg/providers/Microsoft.Network/networkSecurityGroups/andrewdemo123-nsg",
            "timeouts": null
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "azurerm_network_interface.backend01-ext-nic",
            "azurerm_network_security_group.main",
            "azurerm_resource_group.main",
            "azurerm_subnet.External",
            "azurerm_virtual_network.main"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_network_interface_security_group_association",
      "name": "vm01-ext-nsg",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "/subscriptions/75f86c46-9cbc-4f6c-85ea-195e3d3c8ac0/resourceGroups/andrewdemo123_rg/providers/Microsoft.Network/networkInterfaces/andrewdemo123-ext0|/subscriptions/75f86c46-9cbc-4f6c-85ea-195e3d3c8ac0/resourceGroups/andrewdemo123_rg/providers/Microsoft.Network/networkSecurityGroups/andrewdemo123-nsg",
            "network_interface_id": "/subscriptions/75f86c46-9cbc-4f6c-85ea-195e3d3c8ac0/resourceGroups/andrewdemo123_rg/providers/Microsoft.Network/networkInterfaces/andrewdemo123-ext0",
            "network_security_group_id": "/subscriptions/75f86c46-9cbc-4f6c-85ea-195e3d3c8ac0/resourceGroups/andrewdemo123_rg/providers/Microsoft.Network/networkSecurityGroups/andrewdemo123-nsg",
            "timeouts": null
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "azurerm_network_interface.vm01-ext-nic",
            "azurerm_network_security_group.main",
            "azurerm_public_ip.pubvippip",
            "azurerm_public_ip.vm01selfpip",
            "azurerm_resource_group.main",
            "azurerm_subnet.External",
            "azurerm_virtual_network.main"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_network_interface_security_group_association",
      "name": "vm01-mgmt-nsg",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "/subscriptions/75f86c46-9cbc-4f6c-85ea-195e3d3c8ac0/resourceGroups/andrewdemo123_rg/providers/Microsoft.Network/networkInterfaces/andrewdemo123-mgmt0|/subscriptions/75f86c46-9cbc-4f6c-85ea-195e3d3c8ac0/resourceGroups/andrewdemo123_rg/providers/Microsoft.Network/networkSecurityGroups/andrewdemo123-nsg",
            "network_interface_id": "/subscriptions/75f86c46-9cbc-4f6c-85ea-195e3d3c8ac0/resourceGroups/andrewdemo123_rg/providers/Microsoft.Network/networkInterfaces/andrewdemo123-mgmt0",
            "network_security_group_id": "/subscriptions/75f86c46-9cbc-4f6c-85ea-195e3d3c8ac0/resourceGroups/andrewdemo123_rg/providers/Microsoft.Network/networkSecurityGroups/andrewdemo123-nsg",
            "timeouts": null
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "azurerm_network_interface.vm01-mgmt-nic",
            "azurerm_network_security_group.main",
            "azurerm_public_ip.vm01mgmtpip",
            "azurerm_resource_group.main",
            "azurerm_subnet.Mgmt",
            "azurerm_virtual_network.main"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_network_security_group",
      "name": "main",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "/subscriptions/75f86c46-9cbc-4f6c-85ea-195e3d3c8ac0/resourceGroups/andrewdemo123_rg/providers/Microsoft.Network/networkSecurityGroups/andrewdemo123-nsg",
            "location": "westus2",
            "name": "andrewdemo123-nsg",
            "resource_group_name": "andrewdemo123_rg",
            "security_rule": [
              {
                "access": "Allow",
                "description": "Allow HTTP access",
                "destination_address_prefix": "*",
                "destination_address_prefixes": [],
                "destination_application_security_group_ids": [],
                "destination_port_range": "80",
                "destination_port_ranges": [],
                "direction": "Inbound",
                "name": "allow_HTTP",
                "priority": 110,
                "protocol": "Tcp",
                "source_address_prefix": "*",
                "source_address_prefixes": [],
                "source_application_security_group_ids": [],
                "source_port_range": "*",
                "source_port_ranges": []
              },
              {
                "access": "Allow",
                "description": "Allow HTTPS access",
                "destination_address_prefix": "*",
                "destination_address_prefixes": [],
                "destination_application_security_group_ids": [],
                "destination_port_range": "443",
                "destination_port_ranges": [],
                "direction": "Inbound",
                "name": "allow_HTTPS",
                "priority": 120,
                "protocol": "Tcp",
                "source_address_prefix": "*",
                "source_address_prefixes": [],
                "source_application_security_group_ids": [],
                "source_port_range": "*",
                "source_port_ranges": []
              },
              {
                "access": "Allow",
                "description": "Allow HTTPS access",
                "destination_address_prefix": "*",
                "destination_address_prefixes": [],
                "destination_application_security_group_ids": [],
                "destination_port_range": "8443",
                "destination_port_ranges": [],
                "direction": "Inbound",
                "name": "allow_APP_HTTPS",
                "priority": 130,
                "protocol": "Tcp",
                "source_address_prefix": "*",
                "source_address_prefixes": [],
                "source_application_security_group_ids": [],
                "source_port_range": "*",
                "source_port_ranges": []
              },
              {
                "access": "Allow",
                "description": "Allow SSH access",
                "destination_address_prefix": "*",
                "destination_address_prefixes": [],
                "destination_application_security_group_ids": [],
                "destination_port_range": "22",
                "destination_port_ranges": [],
                "direction": "Inbound",
                "name": "allow_SSH",
                "priority": 100,
                "protocol": "Tcp",
                "source_address_prefix": "*",
                "source_address_prefixes": [],
                "source_application_security_group_ids": [],
                "source_port_range": "*",
                "source_port_ranges": []
              }
            ],
            "tags": {
              "Name": "f5env-bigip-sg",
              "application": "f5app",
              "costcenter": "f5costcenter",
              "environment": "f5env",
              "group": "f5group",
              "owner": "f5owner"
            },
            "timeouts": null
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "azurerm_resource_group.main"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_public_ip",
      "name": "pubvippip",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "allocation_method": "Static",
            "domain_name_label": null,
            "fqdn": null,
            "id": "/subscriptions/75f86c46-9cbc-4f6c-85ea-195e3d3c8ac0/resourceGroups/andrewdemo123_rg/providers/Microsoft.Network/publicIPAddresses/andrewdemo123-pubvip-pip",
            "idle_timeout_in_minutes": 4,
            "ip_address": "40.64.70.127",
            "ip_version": "IPv4",
            "location": "westus2",
            "name": "andrewdemo123-pubvip-pip",
            "public_ip_prefix_id": null,
            "resource_group_name": "andrewdemo123_rg",
            "reverse_fqdn": null,
            "sku": "Standard",
            "tags": {
              "Name": "f5env-pubvip-public-ip",
              "application": "f5app",
              "costcenter": "f5costcenter",
              "environment": "f5env",
              "group": "f5group",
              "owner": "f5owner"
            },
            "timeouts": null,
            "zones": null
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "azurerm_resource_group.main"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_public_ip",
      "name": "vm01mgmtpip",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "allocation_method": "Static",
            "domain_name_label": null,
            "fqdn": null,
            "id": "/subscriptions/75f86c46-9cbc-4f6c-85ea-195e3d3c8ac0/resourceGroups/andrewdemo123_rg/providers/Microsoft.Network/publicIPAddresses/andrewdemo123-vm01-mgmt-pip",
            "idle_timeout_in_minutes": 4,
            "ip_address": "40.64.70.131",
            "ip_version": "IPv4",
            "location": "westus2",
            "name": "andrewdemo123-vm01-mgmt-pip",
            "public_ip_prefix_id": null,
            "resource_group_name": "andrewdemo123_rg",
            "reverse_fqdn": null,
            "sku": "Standard",
            "tags": {
              "Name": "f5env-vm01-mgmt-public-ip",
              "application": "f5app",
              "costcenter": "f5costcenter",
              "environment": "f5env",
              "group": "f5group",
              "owner": "f5owner"
            },
            "timeouts": null,
            "zones": null
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "azurerm_resource_group.main"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_public_ip",
      "name": "vm01selfpip",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "allocation_method": "Static",
            "domain_name_label": null,
            "fqdn": null,
            "id": "/subscriptions/75f86c46-9cbc-4f6c-85ea-195e3d3c8ac0/resourceGroups/andrewdemo123_rg/providers/Microsoft.Network/publicIPAddresses/andrewdemo123-vm01-self-pip",
            "idle_timeout_in_minutes": 4,
            "ip_address": "40.64.68.249",
            "ip_version": "IPv4",
            "location": "westus2",
            "name": "andrewdemo123-vm01-self-pip",
            "public_ip_prefix_id": null,
            "resource_group_name": "andrewdemo123_rg",
            "reverse_fqdn": null,
            "sku": "Standard",
            "tags": {
              "Name": "f5env-vm01-self-public-ip",
              "application": "f5app",
              "costcenter": "f5costcenter",
              "environment": "f5env",
              "group": "f5group",
              "owner": "f5owner"
            },
            "timeouts": null,
            "zones": null
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "azurerm_resource_group.main"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_resource_group",
      "name": "main",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "/subscriptions/75f86c46-9cbc-4f6c-85ea-195e3d3c8ac0/resourceGroups/andrewdemo123_rg",
            "location": "westus2",
            "name": "andrewdemo123_rg",
            "tags": null,
            "timeouts": null
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo1NDAwMDAwMDAwMDAwLCJkZWxldGUiOjU0MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjo1NDAwMDAwMDAwMDAwfX0="
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_storage_account",
      "name": "mystorage",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 2,
          "attributes": {
            "access_tier": "Hot",
            "account_kind": "StorageV2",
            "account_replication_type": "LRS",
            "account_tier": "Standard",
            "blob_properties": [],
            "custom_domain": [],
            "enable_https_traffic_only": true,
            "id": "/subscriptions/75f86c46-9cbc-4f6c-85ea-195e3d3c8ac0/resourceGroups/andrewdemo123_rg/providers/Microsoft.Storage/storageAccounts/andrewdemo123mystorage",
            "identity": [],
            "is_hns_enabled": false,
            "location": "westus2",
            "name": "andrewdemo123mystorage",
            "network_rules": [
              {
                "bypass": [
                  "AzureServices"
                ],
                "default_action": "Allow",
                "ip_rules": [],
                "virtual_network_subnet_ids": []
              }
            ],
            "primary_access_key": "Zb9/YGXqHHq/WYQStP6vOZTdhpeFV5DARhkLeWYcqPmZPcfY0lWJryrFQKrfaREu+80qQ9ugtCItEuh9v21Vgw==",
            "primary_blob_connection_string": "DefaultEndpointsProtocol=https;BlobEndpoint=https://andrewdemo123mystorage.blob.core.windows.net/;AccountName=andrewdemo123mystorage;AccountKey=Zb9/YGXqHHq/WYQStP6vOZTdhpeFV5DARhkLeWYcqPmZPcfY0lWJryrFQKrfaREu+80qQ9ugtCItEuh9v21Vgw==",
            "primary_blob_endpoint": "https://andrewdemo123mystorage.blob.core.windows.net/",
            "primary_blob_host": "andrewdemo123mystorage.blob.core.windows.net",
            "primary_connection_string": "DefaultEndpointsProtocol=https;AccountName=andrewdemo123mystorage;AccountKey=Zb9/YGXqHHq/WYQStP6vOZTdhpeFV5DARhkLeWYcqPmZPcfY0lWJryrFQKrfaREu+80qQ9ugtCItEuh9v21Vgw==;EndpointSuffix=core.windows.net",
            "primary_dfs_endpoint": "https://andrewdemo123mystorage.dfs.core.windows.net/",
            "primary_dfs_host": "andrewdemo123mystorage.dfs.core.windows.net",
            "primary_file_endpoint": "https://andrewdemo123mystorage.file.core.windows.net/",
            "primary_file_host": "andrewdemo123mystorage.file.core.windows.net",
            "primary_location": "westus2",
            "primary_queue_endpoint": "https://andrewdemo123mystorage.queue.core.windows.net/",
            "primary_queue_host": "andrewdemo123mystorage.queue.core.windows.net",
            "primary_table_endpoint": "https://andrewdemo123mystorage.table.core.windows.net/",
            "primary_table_host": "andrewdemo123mystorage.table.core.windows.net",
            "primary_web_endpoint": "https://andrewdemo123mystorage.z5.web.core.windows.net/",
            "primary_web_host": "andrewdemo123mystorage.z5.web.core.windows.net",
            "queue_properties": [
              {
                "cors_rule": [],
                "hour_metrics": [
                  {
                    "enabled": true,
                    "include_apis": true,
                    "retention_policy_days": 7,
                    "version": "1.0"
                  }
                ],
                "logging": [
                  {
                    "delete": false,
                    "read": false,
                    "retention_policy_days": 0,
                    "version": "1.0",
                    "write": false
                  }
                ],
                "minute_metrics": [
                  {
                    "enabled": false,
                    "include_apis": false,
                    "retention_policy_days": 0,
                    "version": "1.0"
                  }
                ]
              }
            ],
            "resource_group_name": "andrewdemo123_rg",
            "secondary_access_key": "7qrHxVHbalbHhJGQWft4Srrt2hXxwjUn5r/zKpqPSj0omRNFujp9ZaorAZO5R+qytCWPkMT3RcIF9HoB18P7QA==",
            "secondary_blob_connection_string": "",
            "secondary_blob_endpoint": null,
            "secondary_blob_host": null,
            "secondary_connection_string": "DefaultEndpointsProtocol=https;AccountName=andrewdemo123mystorage;AccountKey=7qrHxVHbalbHhJGQWft4Srrt2hXxwjUn5r/zKpqPSj0omRNFujp9ZaorAZO5R+qytCWPkMT3RcIF9HoB18P7QA==;EndpointSuffix=core.windows.net",
            "secondary_dfs_endpoint": null,
            "secondary_dfs_host": null,
            "secondary_file_endpoint": null,
            "secondary_file_host": null,
            "secondary_location": "",
            "secondary_queue_endpoint": null,
            "secondary_queue_host": null,
            "secondary_table_endpoint": null,
            "secondary_table_host": null,
            "secondary_web_endpoint": null,
            "secondary_web_host": null,
            "static_website": [],
            "tags": {
              "application": "f5app",
              "costcenter": "f5costcenter",
              "environment": "f5env",
              "group": "f5group",
              "owner": "f5owner"
            },
            "timeouts": null
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjozNjAwMDAwMDAwMDAwLCJkZWxldGUiOjM2MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjozNjAwMDAwMDAwMDAwfSwic2NoZW1hX3ZlcnNpb24iOiIyIn0=",
          "dependencies": [
            "azurerm_resource_group.main"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_subnet",
      "name": "External",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "address_prefix": "10.90.2.0/24",
            "delegation": [],
            "enforce_private_link_endpoint_network_policies": false,
            "enforce_private_link_service_network_policies": false,
            "id": "/subscriptions/75f86c46-9cbc-4f6c-85ea-195e3d3c8ac0/resourceGroups/andrewdemo123_rg/providers/Microsoft.Network/virtualNetworks/andrewdemo123-network/subnets/External",
            "name": "External",
            "resource_group_name": "andrewdemo123_rg",
            "service_endpoints": null,
            "timeouts": null,
            "virtual_network_name": "andrewdemo123-network"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "azurerm_resource_group.main",
            "azurerm_virtual_network.main"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_subnet",
      "name": "Mgmt",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "address_prefix": "10.90.1.0/24",
            "delegation": [],
            "enforce_private_link_endpoint_network_policies": false,
            "enforce_private_link_service_network_policies": false,
            "id": "/subscriptions/75f86c46-9cbc-4f6c-85ea-195e3d3c8ac0/resourceGroups/andrewdemo123_rg/providers/Microsoft.Network/virtualNetworks/andrewdemo123-network/subnets/Mgmt",
            "name": "Mgmt",
            "resource_group_name": "andrewdemo123_rg",
            "service_endpoints": null,
            "timeouts": null,
            "virtual_network_name": "andrewdemo123-network"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "azurerm_resource_group.main",
            "azurerm_virtual_network.main"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_virtual_machine_extension",
      "name": "f5vm01-run-startup-cmd",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "auto_upgrade_minor_version": false,
            "id": "/subscriptions/75f86c46-9cbc-4f6c-85ea-195e3d3c8ac0/resourceGroups/andrewdemo123_rg/providers/Microsoft.Compute/virtualMachines/andrewdemo123-f5vm01/extensions/f5env-f5vm01-run-startup-cmd",
            "name": "f5env-f5vm01-run-startup-cmd",
            "protected_settings": null,
            "publisher": "Microsoft.Azure.Extensions",
            "settings": "{\"commandToExecute\":\"bash /var/lib/waagent/CustomData; exit 0;\"}",
            "tags": {
              "Name": "f5env-f5vm01-startup-cmd",
              "application": "f5app",
              "costcenter": "f5costcenter",
              "environment": "f5env",
              "group": "f5group",
              "owner": "f5owner"
            },
            "timeouts": null,
            "type": "CustomScript",
            "type_handler_version": "2.0",
            "virtual_machine_id": "/subscriptions/75f86c46-9cbc-4f6c-85ea-195e3d3c8ac0/resourceGroups/andrewdemo123_rg/providers/Microsoft.Compute/virtualMachines/andrewdemo123-f5vm01"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "azurerm_linux_virtual_machine.f5vm01",
            "azurerm_network_interface.vm01-ext-nic",
            "azurerm_network_interface.vm01-mgmt-nic",
            "azurerm_public_ip.pubvippip",
            "azurerm_public_ip.vm01mgmtpip",
            "azurerm_public_ip.vm01selfpip",
            "azurerm_resource_group.main",
            "azurerm_storage_account.mystorage",
            "azurerm_subnet.External",
            "azurerm_subnet.Mgmt",
            "azurerm_virtual_network.main",
            "data.template_file.vm_onboard"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_virtual_network",
      "name": "main",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "address_space": [
              "10.90.0.0/16"
            ],
            "ddos_protection_plan": [],
            "dns_servers": null,
            "id": "/subscriptions/75f86c46-9cbc-4f6c-85ea-195e3d3c8ac0/resourceGroups/andrewdemo123_rg/providers/Microsoft.Network/virtualNetworks/andrewdemo123-network",
            "location": "westus2",
            "name": "andrewdemo123-network",
            "resource_group_name": "andrewdemo123_rg",
            "subnet": [],
            "tags": null,
            "timeouts": null
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "azurerm_resource_group.main"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "local_file",
      "name": "vm01_do_file",
      "provider": "provider[\"registry.terraform.io/hashicorp/local\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "content": "{\n    \"schemaVersion\": \"1.0.0\",\n    \"class\": \"Device\",\n    \"async\": true,\n    \"label\": \"Onboard BIG-IP standalone 2nic\",\n    \"Common\": {\n        \"class\": \"Tenant\",\n        \"hostname\": \"f5vm01.example.com\",\n        \"dbVars\": {\n            \"class\": \"DbVariables\",\n            \"ui.advisory.enabled\": true,\n            \"ui.advisory.color\": \"green\",\n            \"ui.advisory.text\": \"/Common/hostname\",\n            \"config.allow.rfc3927\": \"enable\"\n        },\n        \"myLicense\": {\n            \"class\": \"License\",\n            \"licenseType\": \"regKey\",\n            \"regKey\": \"AVNSZ-UNXJX-APNHH-ZDYHX-ZPMDEVQ\"\n        },\n        \"myDns\": {\n            \"class\": \"DNS\",\n            \"nameServers\": [\n                \"8.8.8.8\",\n                \"2001:4860:4860::8844\"\n            ],\n            \"search\": [\n                \"f5.com\"\n            ]\n        },\n        \"myNtp\": {\n            \"class\": \"NTP\",\n            \"servers\": [\n                \"0.us.pool.ntp.org\",\n                \"1.pool.ntp.org\",\n                \"2.pool.ntp.org\"\n            ],\n            \"timezone\": \"UTC\"\n        },\n        \"myProvisioning\": {\n            \"class\": \"Provision\",\n            \"ltm\": \"nominal\",\n            \"asm\": \"nominal\",\n            \"apm\": \"nominal\"\n        },\n        \"external\": {\n            \"class\": \"VLAN\",\n            \"tag\": 4094,\n            \"mtu\": 1500,\n            \"interfaces\": [\n                {\n                    \"name\": \"1.1\",\n                    \"tagged\": false\n                }\n            ]\n        },\n        \"external-localself\": {\n            \"class\": \"SelfIp\",\n            \"address\": \"10.90.2.4/24\",\n            \"vlan\": \"external\",\n            \"allowService\": \"default\",\n            \"trafficGroup\": \"traffic-group-local-only\"\n        },\n        \"default\": {\n            \"class\": \"Route\",\n            \"gw\": \"10.90.2.1\",\n            \"network\": \"default\",\n            \"mtu\": 1500\n        }\n    }\n}\n",
            "content_base64": null,
            "directory_permission": "0777",
            "file_permission": "0777",
            "filename": "./vm01_do_data.json",
            "id": "607b28cc96bf386d51e5e79cfbfd84c036d87f03",
            "sensitive_content": null
          },
          "private": "bnVsbA==",
          "dependencies": [
            "data.template_file.vm01_do_json"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "local_file",
      "name": "vm_as3_file",
      "provider": "provider[\"registry.terraform.io/hashicorp/local\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "content": "{\n  \"class\": \"AS3\",\n  \"action\": \"deploy\",\n  \"persist\": true,\n  \"declaration\": {\n    \"class\": \"ADC\",\n    \"schemaVersion\": \"3.13.0\",\n    \"id\": \"123abc\",\n    \"label\": \"Sample 1\",\n    \"remark\": \"An HTTPS sample application\",\n    \"controls\": {\n      \"trace\": true\n    },\n    \"Sample_01\": {\n      \"class\": \"Tenant\",\n      \"A1\": {\n        \"class\": \"Application\",\n        \"template\": \"https\",\n        \"serviceMain\": {\n          \"class\": \"Service_HTTPS\",\n          \"virtualAddresses\": [\n            \"10.90.2.12\",\n            \"10.90.2.11\"\n          ],\n          \"pool\": \"web_pool\",\n          \"serverTLS\": \"webtls\"\n        },\n        \"web_pool\": {\n          \"class\": \"Pool\",\n          \"monitors\": [\n            \"tcp\"\n          ],\n          \"members\": [{\n            \"servicePort\": 3000,\n            \"addressDiscovery\": \"azure\",\n            \"updateInterval\": 10,\n            \"tagKey\": \"application\",\n            \"tagValue\": \"app1\",\n            \"addressRealm\": \"private\",\n            \"resourceGroup\": \"andrewdemo123_rg\",\n            \"subscriptionId\": \"75f86c46-9cbc-4f6c-85ea-195e3d3c8ac0\",\n            \"directoryId\": \"e569f29e-b098-4cea-b6f0-48fa8532d64a\",\n            \"applicationId\": \"5d4276e2-8b6c-482b-aef9-b049e9df7c1b\",\n            \"apiAccessKey\": \"DQ//xHC5-xl:XlpvBmYN4PfdaimbOP36\",\n            \"credentialUpdate\": false\n          }]\n        },\n        \"webtls\": {\n          \"class\": \"TLS_Server\",\n          \"certificates\": [{\n            \"certificate\": \"webcert\"\n          }]\n        },\n        \"webcert\": {\n          \"class\": \"Certificate\",\n          \"remark\": \"in practice we recommend using a passphrase\",\n          \"certificate\": \"-----BEGIN CERTIFICATE-----\\nMIICnDCCAgWgAwIBAgIJAJ5n2b0OCEjwMA0GCSqGSIb3DQEBCwUAMGcxCzAJBgNVBAYTAlVTMRMwEQYDVQQIDApXYXNoaW5ndG9uMRAwDgYDVQQHDAdTZWF0dGxlMRQwEgYDVQQKDAtmNV9OZXR3b3JrczEbMBkGA1UEAwwSc2FtcGxlLmV4YW1wbGUubmV0MB4XDTE3MTEyNjE5NTAyNFoXDTE4MDIyNTE5NTAyNFowZzELMAkGA1UEBhMCVVMxEzARBgNVBAgMCldhc2hpbmd0b24xEDAOBgNVBAcMB1NlYXR0bGUxFDASBgNVBAoMC2Y1X05ldHdvcmtzMRswGQYDVQQDDBJzYW1wbGUuZXhhbXBsZS5uZXQwgZ8wDQYJKoZIhvcNAQEBBQADgY0AMIGJAoGBALEsuXmSXVQpYjrZPW+WiTBjn491mwZYT7Q92V1HlSBtM6WdWlK1aZN5sovfKtOX7Yrm8xa+e4o/zJ2QYLyyv5O+t2EGN/4qUEjEAPY9mwJdfzRQy6Hyzm84J0QkTuUJ/EjNuPji3D0QJRALUTzu1UqqDCEtiN9OGyXEkh7uvb7BAgMBAAGjUDBOMB0GA1UdDgQWBBSVHPNrGWrjWyZvckQxFYWO59FRFjAfBgNVHSMEGDAWgBSVHPNrGWrjWyZvckQxFYWO59FRFjAMBgNVHRMEBTADAQH/MA0GCSqGSIb3DQEBCwUAA4GBAJeJ9SEckEwPhkXOm+IuqfbUS/RcziifBCTmVyE+Fa/j9pKSYTgiEBNdbJeBEa+gPMlQtbV7Y2dy8TKx/8axVBHiXC5geDML7caxOrAyHYBpnx690xJTh5OIORBBM/a/NvaR+P3CoVebr/NPRh9oRNxnntnqvqD7SW0U3ZPe3tJc\\n-----END CERTIFICATE-----\",\n          \"privateKey\": \"-----BEGIN RSA PRIVATE KEY-----\\nProc-Type: 4,ENCRYPTED\\nDEK-Info: AES-256-CBC,D8FFCE6B255601587CB54EC29B737D31\\n\\nkv4Fc3Jn0Ujkj0yRjt+gQQfBLSNF2aRLUENXnlr7Xpzqu0Ahr3jS1bAAnd8IWnsR\\nyILqVmKsYF2DoHh0tWiEAQ7/y/fe5DTFhK7N4Wml6kp2yVMkP6KC4ssyYPw27kjK\\nDBwBZ5O8Ioej08A5sgsLCmglbmtSPHJUn14pQnMTmLOpEtOsu6S+2ibPgSNpdg0b\\nCAJNG/KHe+Vkx59qNDyDeKb7FZOlsX30+y67zUq9GQqJEDuysPJ2BUNP0IJXAjst\\nFIt1qNoZew+5KDYs7u/lPxcMGTirUhgI84Jy4WcDvSOsP/tKlxj04TbIE3epmSKy\\n+TihHkwY7ngIGtcm3Sfqk5jz2RXoj1/Ac3SW8kVTYaOUogBhn7zAq4Wju6Et4hQG\\nRGapsJp1aCeZ/a4RCDTxspcKoMaRa97/URQb0hBRGx3DGUhzpmX9zl7JI2Xa5D3R\\nmdBXtjLKYJTdIMdd27prBEKhMUpae2rz5Mw4J907wZeBq/wu+zp8LAnecfTe2nGY\\nE32x1U7gSEdYOGqnwxsOexb1jKgCa67Nw9TmcMPV8zmH7R9qdvgxAbAtwBl1F9OS\\nfcGaC7epf1AjJLtaX7krWmzgASHl28Ynh9lmGMdv+5QYMZvKG0LOg/n3m8uJ6sKy\\nIzzvaJswwn0j5P5+czyoV5CvvdCfKnNb+3jUEN8I0PPwjBGKr4B1ojwhogTM248V\\nHR69D6TxFVMfGpyJhCPkbGEGbpEpcffpgKuC/mEtMqyDQXJNaV5HO6HgAJ9F1P6v\\n5ehHHTMRvzCCFiwndHdlMXUjqSNjww6me6dr6LiAPbejdzhL2vWx1YqebOcwQx3G\\n-----END RSA PRIVATE KEY-----\",\n          \"passphrase\": {\n            \"ciphertext\": \"ZjVmNQ==\",\n            \"protected\": \"eyJhbGciOiJkaXIiLCJlbmMiOiJub25lIn0\"\n          }\n        }\n      }\n    }\n  }\n}\n",
            "content_base64": null,
            "directory_permission": "0777",
            "file_permission": "0777",
            "filename": "./vm_as3_data.json",
            "id": "bb29e7ffb8bb7b7b39cfa05c58293be80b95843f",
            "sensitive_content": null
          },
          "private": "bnVsbA==",
          "dependencies": [
            "azurerm_resource_group.main",
            "data.template_file.as3_json"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "local_file",
      "name": "vm_ts_file",
      "provider": "provider[\"registry.terraform.io/hashicorp/local\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "content": "{\n  \"class\": \"Telemetry\",\n  \"My_System\": {\n      \"class\": \"Telemetry_System\",\n      \"systemPoller\": {\n          \"interval\": 60\n      }\n  },\n  \"My_Listener\": {\n      \"class\": \"Telemetry_Listener\",\n      \"port\": 6514\n  },\n  \"My_Consumer\": {\n    \"class\": \"Telemetry_Consumer\",\n    \"type\": \"Azure_Log_Analytics\",\n    \"workspaceId\": \"b16dcd19-ff88-4916-8f29-3ce74e7d243b\",\n    \"passphrase\": {\n        \"cipherText\": \"7dgXKwfkncY0tZ5fvjanjmwaSSxvtztjFUtmgslWYIRf747LMv/ekDjbPhdYIrDYEm6RkuI004p9+sCRkOfwOQ==\"\n    },\n    \"useManagedIdentity\": false,\n    \"region\": \"westus2\"\n  }\n}\n",
            "content_base64": null,
            "directory_permission": "0777",
            "file_permission": "0777",
            "filename": "./vm_ts_data.json",
            "id": "edc967c559b21d1f78cb1fe23316a4f3894a4fb7",
            "sensitive_content": null
          },
          "private": "bnVsbA==",
          "dependencies": [
            "azurerm_log_analytics_workspace.law",
            "azurerm_resource_group.main",
            "data.template_file.ts_json"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "null_resource",
      "name": "f5vm01_DO",
      "provider": "provider[\"registry.terraform.io/hashicorp/null\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "76524397362019094",
            "triggers": null
          },
          "private": "bnVsbA==",
          "dependencies": [
            "azurerm_linux_virtual_machine.f5vm01",
            "azurerm_network_interface.vm01-ext-nic",
            "azurerm_network_interface.vm01-mgmt-nic",
            "azurerm_public_ip.pubvippip",
            "azurerm_public_ip.vm01mgmtpip",
            "azurerm_public_ip.vm01selfpip",
            "azurerm_resource_group.main",
            "azurerm_storage_account.mystorage",
            "azurerm_subnet.External",
            "azurerm_subnet.Mgmt",
            "azurerm_virtual_machine_extension.f5vm01-run-startup-cmd",
            "azurerm_virtual_network.main",
            "data.template_file.vm_onboard"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "null_resource",
      "name": "f5vm01_TS",
      "provider": "provider[\"registry.terraform.io/hashicorp/null\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "2895673277879681638",
            "triggers": null
          },
          "private": "bnVsbA==",
          "dependencies": [
            "azurerm_linux_virtual_machine.f5vm01",
            "azurerm_network_interface.vm01-ext-nic",
            "azurerm_network_interface.vm01-mgmt-nic",
            "azurerm_public_ip.pubvippip",
            "azurerm_public_ip.vm01mgmtpip",
            "azurerm_public_ip.vm01selfpip",
            "azurerm_resource_group.main",
            "azurerm_storage_account.mystorage",
            "azurerm_subnet.External",
            "azurerm_subnet.Mgmt",
            "azurerm_virtual_machine_extension.f5vm01-run-startup-cmd",
            "azurerm_virtual_network.main",
            "data.template_file.vm_onboard",
            "null_resource.f5vm01_DO"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "null_resource",
      "name": "f5vm_AS3",
      "provider": "provider[\"registry.terraform.io/hashicorp/null\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "4836862522308229515",
            "triggers": null
          },
          "private": "bnVsbA==",
          "dependencies": [
            "azurerm_linux_virtual_machine.f5vm01",
            "azurerm_network_interface.vm01-ext-nic",
            "azurerm_network_interface.vm01-mgmt-nic",
            "azurerm_public_ip.pubvippip",
            "azurerm_public_ip.vm01mgmtpip",
            "azurerm_public_ip.vm01selfpip",
            "azurerm_resource_group.main",
            "azurerm_storage_account.mystorage",
            "azurerm_subnet.External",
            "azurerm_subnet.Mgmt",
            "azurerm_virtual_machine_extension.f5vm01-run-startup-cmd",
            "azurerm_virtual_network.main",
            "data.template_file.vm_onboard",
            "null_resource.f5vm01_DO",
            "null_resource.f5vm01_TS"
          ]
        }
      ]
    }
  ]
}
